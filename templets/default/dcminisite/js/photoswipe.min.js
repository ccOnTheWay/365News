/* PhotoSwipe - v4.1.0 - 2015-08-14
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
(function(A,B){if(typeof define==="function"&&define.amd){define(B)}else{if(typeof exports==="object"){module.exports=B()}else{A.PhotoSwipe=B()}}})(this,function(){var A=function(Bu,AA,AD,Av){var AH={features:null,bind:function(CA,p,Cy,Cz){var Cx=(Cz?"remove":"add")+"EventListener";p=p.split(" ");for(var Cw=0;Cw<p.length;Cw++){if(p[Cw]){CA[Cx](p[Cw],Cy,false)}}},isArray:function(p){return(p instanceof Array)},createEl:function(Cx,p){var Cw=document.createElement(p||"div");if(Cx){Cw.className=Cx}return Cw},getScrollY:function(){var p=window.pageYOffset;return p!==undefined?p:document.documentElement.scrollTop},unbind:function(Cx,p,Cw){AH.bind(Cx,p,Cw,true)},removeClass:function(p,Cw){var Cx=new RegExp("(\\s|^)"+Cw+"(\\s|$)");p.className=p.className.replace(Cx," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(p,Cw){if(!AH.hasClass(p,Cw)){p.className+=(p.className?" ":"")+Cw}},hasClass:function(p,Cw){return p.className&&new RegExp("(^|\\s)"+Cw+"(\\s|$)").test(p.className)},getChildByClass:function(Cw,Cx){var p=Cw.firstChild;while(p){if(AH.hasClass(p,Cx)){return p}p=p.nextSibling}},arraySearch:function(Cw,Cy,p){var Cx=Cw.length;while(Cx--){if(Cw[Cx][p]===Cy){return Cx}}return -1},extend:function(p,Cx,Cy){for(var Cw in Cx){if(Cx.hasOwnProperty(Cw)){if(Cy&&p.hasOwnProperty(Cw)){continue}p[Cw]=Cx[Cw]}}},easing:{sine:{out:function(p){return Math.sin(p*(Math.PI/2))},inOut:function(p){return -(Math.cos(Math.PI*p)-1)/2}},cubic:{out:function(p){return --p*p*p+1}}},detectFeatures:function(){if(AH.features){return AH.features}var p=AH.createEl(),CJ=p.style,Cw="",CE={};CE.oldIE=document.all&&!document.addEventListener;CE.touch="ontouchstart" in window;if(window.requestAnimationFrame){CE.raf=window.requestAnimationFrame;CE.caf=window.cancelAnimationFrame}CE.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled;if(!CE.pointerEvent){var CF=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var Cx=(navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/);if(Cx&&Cx.length>0){Cx=parseInt(Cx[1],10);if(Cx>=1&&Cx<8){CE.isOldIOSPhone=true}}}var Cy=CF.match(/Android\s([0-9\.]*)/);var CI=Cy?Cy[1]:0;CI=parseFloat(CI);if(CI>=1){if(CI<4.4){CE.isOldAndroid=true}CE.androidVersion=CI}CE.isMobileOpera=/opera mini|opera mobi/i.test(CF)}var CC=["transform","perspective","animationName"],CB=["","webkit","Moz","ms","O"],Cz,CH;for(var CD=0;CD<4;CD++){Cw=CB[CD];for(var CG=0;CG<3;CG++){Cz=CC[CG];CH=Cw+(Cw?Cz.charAt(0).toUpperCase()+Cz.slice(1):Cz);if(!CE[Cz]&&CH in CJ){CE[Cz]=CH}}if(Cw&&!CE.raf){Cw=Cw.toLowerCase();CE.raf=window[Cw+"RequestAnimationFrame"];if(CE.raf){CE.caf=window[Cw+"CancelAnimationFrame"]||window[Cw+"CancelRequestAnimationFrame"]}}}if(!CE.raf){var CA=0;CE.raf=function(CL){var CK=new Date().getTime();var CM=Math.max(0,16-(CK-CA));var CN=window.setTimeout(function(){CL(CK+CM)},CM);CA=CK+CM;return CN};CE.caf=function(CK){clearTimeout(CK)}}CE.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;AH.features=CE;return CE}};AH.detectFeatures();if(AH.features.oldIE){AH.bind=function(CA,CC,p,Cy){CC=CC.split(" ");var Cx=(Cy?"detach":"attach")+"Event",CB,Cw=function(){p.handleEvent.call(p)};for(var Cz=0;Cz<CC.length;Cz++){CB=CC[Cz];if(CB){if(typeof p==="object"&&p.handleEvent){if(!Cy){p["oldIE"+CB]=Cw}else{if(!p["oldIE"+CB]){return false}}CA[Cx]("on"+CB,p["oldIE"+CB])}else{CA[Cx]("on"+CB,p)}}}}}var BI=this;var Bh=25,B1=3;var Bp={allowPanToNext:true,spacing:0.12,bgOpacity:1,mouseUsed:false,loop:true,pinchToClose:true,closeOnScroll:true,closeOnVerticalDrag:true,verticalDragRange:0.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:false,focus:true,escKey:true,arrowKeys:true,mainScrollEndFriction:0.35,panEndFriction:0.35,isClickableElement:function(p){return p.tagName==="A"},getDoubleTapZoom:function(p,Cw){if(p){return 1}else{return Cw.initialZoomLevel<0.7?1:1.33}},maxSpreadZoom:1.33,modal:true,scaleMode:"fit"};AH.extend(Bp,Av);var Af=function(){return{x:0,y:0}};var Ac,O,Az,Q,E,Br,z=Af(),Ax=Af(),AL=Af(),B5,h,M,BX={},A0,f,A3,BK,BH,Al,Ca=0,w={},Cu=Af(),B4,Cg,Ck=0,Aw,N,AW,AR,BL,v,x=true,Cb,Ay=[],Y,AO,AU,Cq,Bl,AQ,Co,Ah={},Cj=false,B0=function(Cw,p){AH.extend(BI,p.publicMethods);Ay.push(Cw)},Cm=function(Cw){var p=y();if(Cw>p-1){return Cw-p}else{if(Cw<0){return p+Cw}}return Cw},Ad={},A1=function(Cw,p){if(!Ad[Cw]){Ad[Cw]=[]}return Ad[Cw].push(p)},V=function(Cw){var Cx=Ad[Cw];if(Cx){var Cy=Array.prototype.slice.call(arguments);Cy.shift();for(var p=0;p<Cx.length;p++){Cx[p].apply(BI,Cy)}}},A6=function(){return new Date().getTime()},BV=function(p){BT=p;BI.bg.style.opacity=p*Bp.bgOpacity},D=function(Cw,Cx,Cy,Cz,p){if(!Cj||(p&&p!==BI.currItem)){Cz=Cz/(p?p.fitRatio:BI.currItem.fitRatio)}Cw[BL]=A3+Cx+"px, "+Cy+"px"+BK+" scale("+Cz+")"},AT=function(p){if(A8){if(p){if(A0>BI.currItem.fitRatio){if(!Cj){i(BI.currItem,false,true);Cj=true}}else{if(Cj){i(BI.currItem);Cj=false}}}D(A8,AL.x,AL.y,A0)}},Ap=function(p){if(p.container){D(p.container.style,p.initialPosition.x,p.initialPosition.y,p.initialZoomLevel,p)}},n=function(Cw,p){p[BL]=A3+Cw+"px, 0px"+BK},Ab=function(Cx,Cy){if(!Bp.loop&&Cy){var Cw=Q+(Cu.x*Ca-Cx)/Cu.x,p=Math.round(Cx-L.x);if((Cw<0&&p>0)||(Cw>=y()-1&&p<0)){Cx=L.x+p*Bp.mainScrollEndFriction}}L.x=Cx;n(Cx,E)},Ba=function(Cx,p){var Cw=Cl[Cx]-w[Cx];return Ax[Cx]+z[Cx]+Cw-Cw*(p/f)},Cn=function(p,Cw){p.x=Cw.x;p.y=Cw.y;if(Cw.id){p.id=Cw.id}},e=function(Cw){Cw.x=Math.round(Cw.x);Cw.y=Math.round(Cw.y)},g=null,Ci=function(){if(g){AH.unbind(document,"mousemove",Ci);AH.addClass(Bu,"pswp--has_mouse");Bp.mouseUsed=true;V("mouseUsed")}g=setTimeout(function(){g=null},100)},BY=function(){AH.bind(document,"keydown",BI);if(Co.transform){AH.bind(BI.scrollWrap,"click",BI)}if(!Bp.mouseUsed){AH.bind(document,"mousemove",Ci)}AH.bind(window,"resize scroll",BI);V("bindEvents")},H=function(){AH.unbind(window,"resize",BI);AH.unbind(window,"scroll",M.scroll);AH.unbind(document,"keydown",BI);AH.unbind(document,"mousemove",Ci);if(Co.transform){AH.unbind(BI.scrollWrap,"click",BI)}if(T){AH.unbind(window,B5,BI)}V("unbindEvents")},Cr=function(p,Cw){var Cx=Bv(BI.currItem,BX,p);if(Cw){U=Cx}return Cx},A4=function(p){if(!p){p=BI.currItem}return p.initialZoomLevel},Z=function(p){if(!p){p=BI.currItem}return p.w>0?Bp.maxSpreadZoom:1},t=function(Cy,Cw,p,Cx){if(Cx===BI.currItem.initialZoomLevel){p[Cy]=BI.currItem.initialPosition[Cy];return true}else{p[Cy]=Ba(Cy,Cx);if(p[Cy]>Cw.min[Cy]){p[Cy]=Cw.min[Cy];return true}else{if(p[Cy]<Cw.max[Cy]){p[Cy]=Cw.max[Cy];return true}}}return false},Bg=function(){if(BL){var p=Co.perspective&&!Cb;A3="translate"+(p?"3d(":"(");BK=Co.perspective?", 0px)":")";return}BL="left";AH.addClass(Bu,"pswp--ie");n=function(Cx,Cw){Cw.left=Cx+"px"};Ap=function(Cy){var Cz=Cy.fitRatio>1?1:Cy.fitRatio,Cx=Cy.container.style,CA=Cz*Cy.w,Cw=Cz*Cy.h;Cx.width=CA+"px";Cx.height=Cw+"px";Cx.left=Cy.initialPosition.x+"px";Cx.top=Cy.initialPosition.y+"px"};AT=function(){if(A8){var Cx=A8,Cy=BI.currItem,Cz=Cy.fitRatio>1?1:Cy.fitRatio,CA=Cz*Cy.w,Cw=Cz*Cy.h;Cx.width=CA+"px";Cx.height=Cw+"px";Cx.left=AL.x+"px";Cx.top=AL.y+"px"}}},Bt=function(p){var Cw="";if(Bp.escKey&&p.keyCode===27){Cw="close"}else{if(Bp.arrowKeys){if(p.keyCode===37){Cw="prev"}else{if(p.keyCode===39){Cw="next"}}}}if(Cw){if(!p.ctrlKey&&!p.altKey&&!p.shiftKey&&!p.metaKey){if(p.preventDefault){p.preventDefault()}else{p.returnValue=false}BI[Cw]()}}},AP=function(p){if(!p){return}if(As||Bx||I||Aj){p.preventDefault();p.stopPropagation()}},BN=function(){BI.setScrollOffset(0,AH.getScrollY())};var m={},BQ=0,B6=function(p){if(m[p]){if(m[p].raf){AO(m[p].raf)}BQ--;delete m[p]}},AE=function(p){if(m[p]){B6(p)}if(!m[p]){BQ++;m[p]={}}},R=function(){for(var p in m){if(m.hasOwnProperty(p)){B6(p)}}},Bz=function(Cw,CD,CA,CE,CC,Cz,CB){var Cx=A6(),Cy;AE(Cw);var p=function(){if(m[Cw]){Cy=A6()-Cx;if(Cy>=CE){B6(Cw);Cz(CA);if(CB){CB()}return}Cz((CA-CD)*CC(Cy/CE)+CD);m[Cw].raf=Y(p)}};p()};var BG={shout:V,listen:A1,viewportSize:BX,options:Bp,isMainScrollAnimating:function(){return I},getZoomLevel:function(){return A0},getCurrentIndex:function(){return Q},isDragging:function(){return T},isZooming:function(){return AY},setScrollOffset:function(p,Cw){w.x=p;AQ=w.y=Cw;V("updateScrollOffset",w)},applyZoomPan:function(p,Cw,Cx,Cy){AL.x=Cw;AL.y=Cx;A0=p;AT(Cy)},init:function(){if(Ac||O){return}var Cw;BI.framework=AH;BI.template=Bu;BI.bg=AH.getChildByClass(Bu,"pswp__bg");AU=Bu.className;Ac=true;Co=AH.detectFeatures();Y=Co.raf;AO=Co.caf;BL=Co.transform;Bl=Co.oldIE;BI.scrollWrap=AH.getChildByClass(Bu,"pswp__scroll-wrap");BI.container=AH.getChildByClass(BI.scrollWrap,"pswp__container");BI.ui=AH.getChildByClass(BI.scrollWrap,"pswp__ui");BI.caption=AH.getChildByClass(BI.ui,"pswp__caption");E=BI.container.style;BI.itemHolders=B4=[{el:BI.container.children[0],wrap:0,index:-1},{el:BI.container.children[1],wrap:0,index:-1},{el:BI.container.children[2],wrap:0,index:-1}];B4[0].el.style.display=B4[2].el.style.display="none";Bg();M={resize:BI.updateSize,scroll:BN,keydown:Bt,click:AP};var Cx=Co.isOldIOSPhone||Co.isOldAndroid||Co.isMobileOpera;if(!Co.animationName||!Co.transform||Cx){Bp.showAnimationDuration=Bp.hideAnimationDuration=0}for(Cw=0;Cw<Ay.length;Cw++){BI["init"+Ay[Cw]]()}if(AA){var p=BI.ui=new AA(BI,AH);p.init()}V("firstUpdate");Q=Q||Bp.index||0;if(isNaN(Q)||Q<0||Q>=y()){Q=0}BI.currItem=BC(Q);if(Co.isOldIOSPhone||Co.isOldAndroid){x=false}Bu.setAttribute("aria-hidden","false");if(Bp.modal){if(!x){Bu.style.position="absolute";Bu.style.top=AH.getScrollY()+"px"}else{Bu.style.position="fixed"}}if(AQ===undefined){V("initialLayout");AQ=Cq=AH.getScrollY()}var Cy="pswp--open ";if(Bp.mainClass){Cy+=Bp.mainClass+" "}if(Bp.showHideOpacity){Cy+="pswp--animate_opacity "}Cy+=Cb?"pswp--touch":"pswp--notouch";Cy+=Co.animationName?" pswp--css_animation":"";Cy+=Co.svg?" pswp--svg":"";AH.addClass(Bu,Cy);BI.updateSize();Br=-1;Ck=null;for(Cw=0;Cw<B1;Cw++){n((Cw+Br)*Cu.x,B4[Cw].el.style)}if(!Bl){AH.bind(BI.scrollWrap,h,BI);console.log(BI.scrollWrap)}A1("initialZoomInEnd",function(){BI.setContent(B4[0],Q-1);BI.setContent(B4[2],Q+1);B4[0].el.style.display=B4[2].el.style.display="block";if(Bp.focus){Bu.focus()}BY()});BI.setContent(B4[1],Q);BI.updateCurrItem();V("afterInit");if(!x){BH=setInterval(function(){if(!BQ&&!T&&!AY&&(A0===BI.currItem.initialZoomLevel)){BI.updateSize()}},1000)}AH.addClass(Bu,"pswp--visible")},close:function(){$("#adv02").show();if(!Ac){return}Ac=false;O=true;V("close");H();Be(BI.currItem,null,true,BI.destroy)},destroy:function(){V("destroy");if(B){clearTimeout(B)}Bu.setAttribute("aria-hidden","true");Bu.className=AU;if(BH){clearInterval(BH)}AH.unbind(BI.scrollWrap,h,BI);AH.unbind(window,"scroll",BI);AZ();R();Ad=null},panTo:function(Cw,Cx,p){if(!p){if(Cw>U.min.x){Cw=U.min.x}else{if(Cw<U.max.x){Cw=U.max.x}}if(Cx>U.min.y){Cx=U.min.y}else{if(Cx<U.max.y){Cx=U.max.y}}}AL.x=Cw;AL.y=Cx;AT()},handleEvent:function(p){p=p||window.event;if(M[p.type]){M[p.type](p)}},goTo:function(p){p=Cm(p);var Cw=p-Q;Ck=Cw;Q=p;BI.currItem=BC(Q);Ca-=Cw;Ab(Cu.x*Ca);R();I=false;BI.updateCurrItem()},next:function(){BI.goTo(Q+1)},prev:function(){BI.goTo(Q-1)},updateCurrZoomItem:function(Cw){if(Cw){V("beforeChange",0)}if(B4[1].el.children.length){var p=B4[1].el.children[0];if(AH.hasClass(p,"pswp__zoom-wrap")){A8=p.style}else{A8=null}}else{A8=null}U=BI.currItem.bounds;f=A0=BI.currItem.initialZoomLevel;AL.x=U.center.x;AL.y=U.center.y;if(Cw){V("afterChange")}},invalidateCurrItems:function(){Al=true;for(var p=0;p<B1;p++){if(B4[p].item){B4[p].item.needsUpdate=true}}},updateCurrItem:function(Cz){if(Ck===0){return}var Cx=Math.abs(Ck),Cy;if(Cz&&Cx<2){return}BI.currItem=BC(Q);Cj=false;V("beforeChange",Ck);if(Cx>=B1){Br+=Ck+(Ck>0?-B1:B1);Cx=B1}for(var p=0;p<Cx;p++){if(Ck>0){Cy=B4.shift();B4[B1-1]=Cy;Br++;n((Br+2)*Cu.x,Cy.el.style);BI.setContent(Cy,Q-Cx+p+1+1)}else{Cy=B4.pop();B4.unshift(Cy);Br--;n(Br*Cu.x,Cy.el.style);BI.setContent(Cy,Q+Cx-p-1-1)}}if(A8&&Math.abs(Ck)===1){var Cw=BC(Cg);if(Cw.initialZoomLevel!==A0){Bv(Cw,BX);i(Cw);Ap(Cw)}}Ck=0;BI.updateCurrZoomItem();Cg=Q;V("afterChange")},updateSize:function(Cz){if(!x&&Bp.modal){var p=AH.getScrollY();if(AQ!==p){Bu.style.top=p+"px";AQ=p}if(!Cz&&Ah.x===window.innerWidth&&Ah.y===window.innerHeight){return}Ah.x=window.innerWidth;Ah.y=window.innerHeight;Bu.style.height=Ah.y+"px"}BX.x=BI.scrollWrap.clientWidth;BX.y=BI.scrollWrap.clientHeight;BN();Cu.x=BX.x+Math.round(BX.x*Bp.spacing);Cu.y=BX.y;Ab(Cu.x*Ca);V("beforeResize");if(Br!==undefined){var CA,Cy,Cw;for(var Cx=0;Cx<B1;Cx++){CA=B4[Cx];n((Cx+Br)*Cu.x,CA.el.style);Cw=Q+Cx-1;if(Bp.loop&&y()>2){Cw=Cm(Cw)}Cy=BC(Cw);if(Cy&&(Al||Cy.needsUpdate||!Cy.bounds)){BI.cleanSlide(Cy);BI.setContent(CA,Cw);if(Cx===1){BI.currItem=Cy;BI.updateCurrZoomItem(true)}Cy.needsUpdate=false}else{if(CA.index===-1&&Cw>=0){BI.setContent(CA,Cw)}}if(Cy&&Cy.container){Bv(Cy,BX);i(Cy);Ap(Cy)}}Al=false}f=A0=BI.currItem.initialZoomLevel;U=BI.currItem.bounds;if(U){AL.x=U.center.x;AL.y=U.center.y;AT(true)}V("resize")},zoomTo:function(CA,Cz,Cy,CC,CB){if(Cz){f=A0;Cl.x=Math.abs(Cz.x)-AL.x;Cl.y=Math.abs(Cz.y)-AL.y;Cn(Ax,AL)}var p=Cr(CA,false),Cw={};t("x",p,Cw,CA);t("y",p,Cw,CA);var Cx=A0;var CE={x:AL.x,y:AL.y};e(Cw);var CD=function(CF){if(CF===1){A0=CA;AL.x=Cw.x;AL.y=Cw.y}else{A0=(CA-Cx)*CF+Cx;AL.x=(Cw.x-CE.x)*CF+CE.x;AL.y=(Cw.y-CE.y)*CF+CE.y}if(CB){CB(CF)}AT(CF===1)};if(Cy){Bz("customZoomTo",0,1,Cy,CC||AH.easing.sine.inOut,CD)}else{CD(1)}}};var BA=30,Bw=10;var Cs,G,P={},Bo={},AJ={},BE={},BO={},Ao=[],BZ={},c,W=[],b={},Am,Aj,A2,J=0,Bm=Af(),K=0,T,A7,Bx,As,Bq,Ag,AX,AY,AG,s,U,L=Af(),A8,I,Cl=Af(),AN=Af(),S,q,Cf,BT,Bb,BM=function(p,Cw){return p.x===Cw.x&&p.y===Cw.y},a=function(p,Cw){return Math.abs(p.x-Cw.x)<Bh&&Math.abs(p.y-Cw.y)<Bh},BB=function(p,Cw){b.x=Math.abs(p.x-Cw.x);b.y=Math.abs(p.y-Cw.y);return Math.sqrt(b.x*b.x+b.y*b.y)},AZ=function(){if(Bq){AO(Bq);Bq=null}},Ai=function(){if(T){Bq=Y(Ai);At()}},AI=function(){return !(Bp.scaleMode==="fit"&&A0===BI.currItem.initialZoomLevel)},Ae=function(p,Cw){if(!p){return false}console.log(p.className);if(p.className&&p.className.indexOf("pswp__scroll-wrap")>-1){return false}if(Cw(p)){return p}return Ae(p.parentNode,Cw)},Bd={},B2=function(p,Cw){Bd.prevent=!Ae(p.target,Bp.isClickableElement);V("preventDragEvent",p,Cw,Bd);return Bd.prevent},Bk=function(Cx,Cw){Cw.x=Cx.pageX;Cw.y=Cx.pageY;Cw.id=Cx.identifier;return Cw},AC=function(p,Cx,Cw){Cw.x=(p.x+Cx.x)*0.5;Cw.y=(p.y+Cx.y)*0.5},AF=function(Cw,Cx,Cy){if(Cw-G>50){var p=W.length>2?W.shift():{};p.x=Cx;p.y=Cy;W.push(p);G=Cw}},AK=function(){var p=AL.y-BI.currItem.initialPosition.y;return 1-Math.abs(p/(BX.y/2))},BR={},Ar={},Cc=[],Bs,BW=function(p){while(Cc.length>0){Cc.pop()}if(!v){if(p.type.indexOf("touch")>-1){if(p.touches&&p.touches.length>0){Cc[0]=Bk(p.touches[0],BR);if(p.touches.length>1){Cc[1]=Bk(p.touches[1],Ar)}}}else{BR.x=p.pageX;BR.y=p.pageY;BR.id="";Cc[0]=BR}}else{Bs=0;Ao.forEach(function(Cw){if(Bs===0){Cc[0]=Cw}else{if(Bs===1){Cc[1]=Cw}}Bs++})}return Cc},X=function(p,CE){var CD,Cy=0,CB=AL[p]+CE[p],Cz,Cw=CE[p]>0,CF=L.x+CE.x,CC=L.x-BZ.x,CA,Cx;if(CB>U.min[p]||CB<U.max[p]){CD=Bp.panEndFriction}else{CD=1}CB=AL[p]+CE[p]*CD;if(Bp.allowPanToNext||A0===BI.currItem.initialZoomLevel){if(!A8){Cx=CF}else{if(S==="h"&&p==="x"&&!Bx){if(Cw){if(CB>U.min[p]){CD=Bp.panEndFriction;Cy=U.min[p]-CB;Cz=U.min[p]-Ax[p]}if((Cz<=0||CC<0)&&y()>1){Cx=CF;if(CC<0&&CF>BZ.x){Cx=BZ.x}}else{if(U.min.x!==U.max.x){CA=CB}}}else{if(CB<U.max[p]){CD=Bp.panEndFriction;Cy=CB-U.max[p];Cz=Ax[p]-U.max[p]}if((Cz<=0||CC>0)&&y()>1){Cx=CF;if(CC>0&&CF<BZ.x){Cx=BZ.x}}else{if(U.min.x!==U.max.x){CA=CB}}}}}if(p==="x"){if(Cx!==undefined){Ab(Cx,true);if(Cx===BZ.x){Ag=false}else{Ag=true}}if(U.min.x!==U.max.x){if(CA!==undefined){AL.x=CA}else{if(!Ag){AL.x+=CE.x*CD}}}return Cx!==undefined}}if(!I){if(!Ag){if(A0>BI.currItem.fitRatio){AL[p]+=CE[p]*CD}}}},Aq=function(p){if(p.type==="mousedown"&&p.button>0){return}if(l){p.preventDefault();return}if(A2&&p.type==="mousedown"){return}if(B2(p,true)){p.preventDefault()}V("pointerDown");if(v){var Cw=AH.arraySearch(Ao,p.pointerId,"id");if(Cw<0){Cw=Ao.length}Ao[Cw]={x:p.pageX,y:p.pageY,id:p.pointerId}}var Cy=BW(p),Cx=Cy.length;AX=null;R();if(!T||Cx===1){T=q=true;AH.bind(window,B5,BI);Am=Bb=Cf=Aj=Ag=As=A7=Bx=false;S=null;V("firstTouchStart",Cy);Cn(Ax,AL);z.x=z.y=0;Cn(BE,Cy[0]);Cn(BO,BE);BZ.x=Cu.x*Ca;W=[{x:BE.x,y:BE.y}];G=Cs=A6();Cr(A0,true);AZ();Ai()}if(!AY&&Cx>1&&!I&&!Ag){f=A0;Bx=false;AY=A7=true;z.y=z.x=0;Cn(Ax,AL);Cn(P,Cy[0]);Cn(Bo,Cy[1]);AC(P,Bo,AN);Cl.x=Math.abs(AN.x)-AL.x;Cl.y=Math.abs(AN.y)-AL.y;AG=s=BB(P,Bo)}},j=function(Cw){Cw.preventDefault();if(v){var Cy=AH.arraySearch(Ao,Cw.pointerId,"id");if(Cy>-1){var Cx=Ao[Cy];Cx.x=Cw.pageX;Cx.y=Cw.pageY}}if(T){var Cz=BW(Cw);if(!S&&!As&&!AY){if(L.x!==Cu.x*Ca){S="h"}else{var CA=Math.abs(Cz[0].x-BE.x)-Math.abs(Cz[0].y-BE.y);if(Math.abs(CA)>=Bw){S=CA>0?"h":"v";AX=Cz}}}else{AX=Cz}}},At=function(){if(!AX){return}var Cz=AX.length;if(Cz===0){return}Cn(P,AX[0]);AJ.x=P.x-BE.x;AJ.y=P.y-BE.y;if(AY&&Cz>1){BE.x=P.x;BE.y=P.y;if(!AJ.x&&!AJ.y&&BM(AX[1],Bo)){return}Cn(Bo,AX[1]);if(!Bx){Bx=true;V("zoomGestureStarted")}var Cy=BB(P,Bo);var Cx=C(Cy);if(Cx>BI.currItem.initialZoomLevel+BI.currItem.initialZoomLevel/15){Bb=true}var p=1,CE=A4(),CA=Z();if(Cx<CE){if(Bp.pinchToClose&&!Bb&&f<=BI.currItem.initialZoomLevel){var Cw=CE-Cx;var CB=1-Cw/(CE/1.2);BV(CB);V("onPinchClose",CB);Cf=true}else{p=(CE-Cx)/CE;if(p>1){p=1}Cx=CE-p*(CE/3)}}else{if(Cx>CA){p=(Cx-CA)/(CE*6);if(p>1){p=1}Cx=CA+p*CE}}if(p<0){p=0}AG=Cy;AC(P,Bo,Bm);z.x+=Bm.x-AN.x;z.y+=Bm.y-AN.y;Cn(AN,Bm);AL.x=Ba("x",Cx);AL.y=Ba("y",Cx);Am=Cx>A0;A0=Cx;AT()}else{if(!S){return}if(q){q=false;if(Math.abs(AJ.x)>=Bw){AJ.x-=AX[0].x-BO.x}if(Math.abs(AJ.y)>=Bw){AJ.y-=AX[0].y-BO.y}}BE.x=P.x;BE.y=P.y;if(AJ.x===0&&AJ.y===0){return}if(S==="v"&&Bp.closeOnVerticalDrag){if(!AI()){z.y+=AJ.y;AL.y+=AJ.y;var CD=AK();Aj=true;V("onVerticalDrag",CD);BV(CD);AT();return}}AF(A6(),P.x,P.y);As=true;U=BI.currItem.bounds;var CC=X("x",AJ);if(!CC){X("y",AJ);e(AL);AT()}}},o=function(p){if(Co.isOldAndroid){if(A2&&p.type==="mouseup"){return}if(p.type.indexOf("touch")>-1){clearTimeout(A2);A2=setTimeout(function(){A2=0},600)}}V("pointerUp");if(B2(p,false)){p.preventDefault()}var Cy;if(v){var CE=AH.arraySearch(Ao,p.pointerId,"id");if(CE>-1){Cy=Ao.splice(CE,1)[0];if(navigator.pointerEnabled){Cy.type=p.pointerType||"mouse"}else{var CG={4:"mouse",2:"touch",3:"pen"};Cy.type=CG[p.pointerType];if(!Cy.type){Cy.type=p.pointerType||"mouse"}}}}var CC=BW(p),Cx,CB=CC.length;if(p.type==="mouseup"){CB=0}if(CB===2){AX=null;return true}if(CB===1){Cn(BO,CC[0])}if(CB===0&&!S&&!I){if(!Cy){if(p.type==="mouseup"){Cy={x:p.pageX,y:p.pageY,type:"mouse"}}else{if(p.changedTouches&&p.changedTouches[0]){Cy={x:p.changedTouches[0].pageX,y:p.changedTouches[0].pageY,type:"touch"}}}}V("touchRelease",p,Cy)}var CA=-1;if(CB===0){T=false;AH.unbind(window,B5,BI);AZ();if(AY){CA=0}else{if(K!==-1){CA=A6()-K}}}K=CB===1?A6():-1;if(CA!==-1&&CA<150){Cx="zoom"}else{Cx="swipe"}if(AY&&CB<2){AY=false;if(CB===1){Cx="zoomPointerUp"}V("zoomGestureEnded")}AX=null;if(!As&&!Bx&&!I&&!Aj){return}R();if(!c){c=BF()}c.calculateSwipeSpeed("x");if(Aj){var CF=AK();if(CF<Bp.verticalDragRange){BI.close()}else{var Cw=AL.y,Cz=BT;Bz("verticalDrag",0,1,300,AH.easing.cubic.out,function(CH){AL.y=(BI.currItem.initialPosition.y-Cw)*CH+Cw;BV((1-Cz)*CH+Cz);AT()});V("onVerticalDrag",1)}return}if((Ag||I)&&CB===0){var CD=Cd(Cx,c);if(CD){return}Cx="zoomPointerUp"}if(I){return}if(Cx!=="swipe"){d();return}if(!Ag&&A0>BI.currItem.fitRatio){AB(c)}},BF=function(){var Cw,Cx;var p={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(Cy){if(W.length>1){Cw=A6()-G+50;Cx=W[W.length-2][Cy]}else{Cw=A6()-Cs;Cx=BO[Cy]}p.lastFlickOffset[Cy]=BE[Cy]-Cx;p.lastFlickDist[Cy]=Math.abs(p.lastFlickOffset[Cy]);if(p.lastFlickDist[Cy]>20){p.lastFlickSpeed[Cy]=p.lastFlickOffset[Cy]/Cw}else{p.lastFlickSpeed[Cy]=0}if(Math.abs(p.lastFlickSpeed[Cy])<0.1){p.lastFlickSpeed[Cy]=0}p.slowDownRatio[Cy]=0.95;p.slowDownRatioReverse[Cy]=1-p.slowDownRatio[Cy];p.speedDecelerationRatio[Cy]=1},calculateOverBoundsAnimOffset:function(Cz,Cy){if(!p.backAnimStarted[Cz]){if(AL[Cz]>U.min[Cz]){p.backAnimDestination[Cz]=U.min[Cz]}else{if(AL[Cz]<U.max[Cz]){p.backAnimDestination[Cz]=U.max[Cz]}}if(p.backAnimDestination[Cz]!==undefined){p.slowDownRatio[Cz]=0.7;p.slowDownRatioReverse[Cz]=1-p.slowDownRatio[Cz];if(p.speedDecelerationRatioAbs[Cz]<0.05){p.lastFlickSpeed[Cz]=0;p.backAnimStarted[Cz]=true;Bz("bounceZoomPan"+Cz,AL[Cz],p.backAnimDestination[Cz],Cy||300,AH.easing.sine.out,function(CA){AL[Cz]=CA;AT()})}}}},calculateAnimOffset:function(Cy){if(!p.backAnimStarted[Cy]){p.speedDecelerationRatio[Cy]=p.speedDecelerationRatio[Cy]*(p.slowDownRatio[Cy]+p.slowDownRatioReverse[Cy]-p.slowDownRatioReverse[Cy]*p.timeDiff/10);p.speedDecelerationRatioAbs[Cy]=Math.abs(p.lastFlickSpeed[Cy]*p.speedDecelerationRatio[Cy]);p.distanceOffset[Cy]=p.lastFlickSpeed[Cy]*p.speedDecelerationRatio[Cy]*p.timeDiff;AL[Cy]+=p.distanceOffset[Cy]}},panAnimLoop:function(){if(m.zoomPan){m.zoomPan.raf=Y(p.panAnimLoop);p.now=A6();p.timeDiff=p.now-p.lastNow;p.lastNow=p.now;p.calculateAnimOffset("x");p.calculateAnimOffset("y");AT();p.calculateOverBoundsAnimOffset("x");p.calculateOverBoundsAnimOffset("y");if(p.speedDecelerationRatioAbs.x<0.05&&p.speedDecelerationRatioAbs.y<0.05){AL.x=Math.round(AL.x);AL.y=Math.round(AL.y);AT();B6("zoomPan");return}}}};return p},AB=function(p){p.calculateSwipeSpeed("y");U=BI.currItem.bounds;p.backAnimDestination={};p.backAnimStarted={};if(Math.abs(p.lastFlickSpeed.x)<=0.05&&Math.abs(p.lastFlickSpeed.y)<=0.05){p.speedDecelerationRatioAbs.x=p.speedDecelerationRatioAbs.y=0;p.calculateOverBoundsAnimOffset("x");p.calculateOverBoundsAnimOffset("y");return true}AE("zoomPan");p.lastNow=A6();p.panAnimLoop()},Cd=function(Cx,CB){var CD;if(!I){J=Q}var Cy;if(Cx==="swipe"){var Cw=BE.x-BO.x,CA=CB.lastFlickDist.x<10;if(Cw>BA&&(CA||CB.lastFlickOffset.x>20)){Cy=-1}else{if(Cw<-BA&&(CA||CB.lastFlickOffset.x<-20)){Cy=1}}}var p;if(Cy){Q+=Cy;if(Q<0){Q=Bp.loop?y()-1:0;p=true}else{if(Q>=y()){Q=Bp.loop?0:y()-1;p=true}}if(!p||Bp.loop){Ck+=Cy;Ca-=Cy;CD=true}}var CE=Cu.x*Ca;var CC=Math.abs(CE-L.x);var Cz;if(!CD&&CE>L.x!==CB.lastFlickSpeed.x>0){Cz=333}else{Cz=Math.abs(CB.lastFlickSpeed.x)>0?CC/Math.abs(CB.lastFlickSpeed.x):333;Cz=Math.min(Cz,400);Cz=Math.max(Cz,250)}if(J===Q){CD=false}I=true;V("mainScrollAnimStart");Bz("mainScroll",L.x,CE,Cz,AH.easing.cubic.out,Ab,function(){R();I=false;J=-1;if(CD||J!==Q){BI.updateCurrItem()}V("mainScrollAnimComplete")});if(CD){BI.updateCurrItem(true)}return CD},C=function(p){return 1/s*p*f},d=function(){var Cy=A0,p=A4(),Cx=Z();if(A0<p){Cy=p}else{if(A0>Cx){Cy=Cx}}var CA=1,Cw,Cz=BT;if(Cf&&!Am&&!Bb&&A0<p){BI.close();return true}if(Cf){Cw=function(CB){BV((CA-Cz)*CB+Cz)}}BI.zoomTo(Cy,0,200,AH.easing.cubic.out,Cw);return true};B0("Gestures",{publicMethods:{initGestures:function(){var p=function(Cw,Cy,Cz,CA,Cx){Aw=Cw+Cy;N=Cw+Cz;AW=Cw+CA;if(Cx){AR=Cw+Cx}else{AR=""}};v=Co.pointerEvent;if(v&&Co.touch){Co.touch=false}if(v){if(navigator.pointerEnabled){p("pointer","down","move","up","cancel")}else{p("MSPointer","Down","Move","Up","Cancel")}}else{if(Co.touch){p("touch","start","move","end","cancel");Cb=true}else{p("mouse","down","move","up")}}B5=N+" "+AW+" "+AR;h=Aw;if(v&&!Cb){Cb=(navigator.maxTouchPoints>1)||(navigator.msMaxTouchPoints>1)}BI.likelyTouchDevice=Cb;M[Aw]=Aq;M[N]=j;M[AW]=o;if(AR){M[AR]=M[AW]}if(Co.touch){h+=" mousedown";B5+=" mousemove mouseup";M.mousedown=M[Aw];M.mousemove=M[N];M.mouseup=M[AW]}if(!Cb){Bp.allowPanToNext=false}}}});var B,Be=function(CC,Cx,Cw,Cz){if(B){clearTimeout(B)}l=true;Bf=true;var p;if(CC.initialLayout){p=CC.initialLayout;CC.initialLayout=null}else{p=Bp.getThumbBoundsFn&&Bp.getThumbBoundsFn(Q)}var Cy=Cw?Bp.hideAnimationDuration:Bp.showAnimationDuration;var CA=function(){B6("initialZoom");if(!Cw){BV(1);if(Cx){Cx.style.display="block"}AH.addClass(Bu,"pswp--animated-in");V("initialZoom"+(Cw?"OutEnd":"InEnd"))}else{BI.template.removeAttribute("style");BI.bg.removeAttribute("style")}if(Cz){Cz()}l=false};if(!Cy||!p||p.x===undefined){V("initialZoom"+(Cw?"Out":"In"));A0=CC.initialZoomLevel;Cn(AL,CC.initialPosition);AT();Bu.style.opacity=Cw?0:1;BV(1);if(Cy){setTimeout(function(){CA()},Cy)}else{CA()}return}var CB=function(){var CD=Az,CE=!BI.currItem.src||BI.currItem.loadError||Bp.showHideOpacity;if(CC.miniImg){CC.miniImg.style.webkitBackfaceVisibility="hidden"}if(!Cw){A0=p.w/CC.w;AL.x=p.x;AL.y=p.y-Cq;BI[CE?"template":"bg"].style.opacity=0.001;AT()}AE("initialZoom");if(Cw&&!CD){AH.removeClass(Bu,"pswp--animated-in")}if(CE){if(Cw){AH[(CD?"remove":"add")+"Class"](Bu,"pswp--animate_opacity")}else{setTimeout(function(){AH.addClass(Bu,"pswp--animate_opacity")},30)}}B=setTimeout(function(){V("initialZoom"+(Cw?"Out":"In"));if(!Cw){A0=CC.initialZoomLevel;Cn(AL,CC.initialPosition);AT();BV(1);if(CE){Bu.style.opacity=1}else{BV(1)}B=setTimeout(CA,Cy+20)}else{var CH=p.w/CC.w,CJ={x:AL.x,y:AL.y},CF=A0,CI=BT,CG=function(CK){if(CK===1){A0=CH;AL.x=p.x;AL.y=p.y-AQ}else{A0=(CH-CF)*CK+CF;AL.x=(p.x-CJ.x)*CK+CJ.x;AL.y=(p.y-AQ-CJ.y)*CK+CJ.y}AT();if(CE){Bu.style.opacity=1-CK}else{BV(CI-CK*CI)}};if(CD){Bz("initialZoom",0,1,Cy,AH.easing.cubic.out,CG,CA)}else{CG(1);B=setTimeout(CA,Cy+20)}}},Cw?25:90)};CB()};var BJ,F={},BP=[],Bf,l,A9={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:false,preload:[1,1],getNumItemsFn:function(){return BJ.length}};var BC,y,Bj,k=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},Bc=function(Cx,Cw,Cy){var p=Cx.bounds;p.center.x=Math.round((F.x-Cw)/2);p.center.y=Math.round((F.y-Cy)/2)+Cx.vGap.top;p.max.x=(Cw>F.x)?Math.round(F.x-Cw):p.center.x;p.max.y=(Cy>F.y)?Math.round(F.y-Cy)+Cx.vGap.top:p.center.y;p.min.x=(Cw>F.x)?0:p.center.x;p.min.y=(Cy>F.y)?Cx.vGap.top:p.center.y},Bv=function(Cz,Cy,p){if(Cz.src&&!Cz.loadError){var Cw=!p;if(Cw){if(!Cz.vGap){Cz.vGap={top:0,bottom:0}}V("parseVerticalMargin",Cz)}F.x=Cy.x;F.y=Cy.y-Cz.vGap.top-Cz.vGap.bottom;if(Cw){var CA=F.x/Cz.w;var Cx=F.y/Cz.h;Cz.fitRatio=CA<Cx?CA:Cx;var CB=Bp.scaleMode;if(CB==="orig"){p=1}else{if(CB==="fit"){p=Cz.fitRatio}}if(p>1){p=1}Cz.initialZoomLevel=p;if(!Cz.bounds){Cz.bounds=k()}}if(!p){return}Bc(Cz,Cz.w*p,Cz.h*p);if(Cw&&p===Cz.initialZoomLevel){Cz.initialPosition=Cz.bounds.center}return Cz.bounds}else{Cz.w=Cz.h=0;Cz.initialZoomLevel=Cz.fitRatio=1;Cz.bounds=k();Cz.initialPosition=Cz.bounds.center;return Cz.bounds}return false},AV=function(Cz,Cx,CA,p,Cw,Cy){if(Cx.loadError){return}if(p){Cx.imageAppended=true;i(Cx,p,(Cx===BI.currItem&&Cj));CA.appendChild(p);if(Cy){setTimeout(function(){if(Cx&&Cx.loaded&&Cx.placeholder){Cx.placeholder.style.display="none";Cx.placeholder=null}},500)}}},Ct=function(Cw){Cw.loading=true;Cw.loaded=false;var Cx=Cw.img=AH.createEl("pswp__img","img");var p=function(){Cw.loading=false;Cw.loaded=true;if(Cw.loadComplete){Cw.loadComplete(Cw)}else{Cw.img=null}Cx.onload=Cx.onerror=null;Cx=null};Cx.onload=p;Cx.onerror=function(){Cw.loadError=true;p()};Cx.src=Cw.src;return Cx},Au=function(Cw,p){if(Cw.src&&Cw.loadError&&Cw.container){if(p){Cw.container.innerHTML=""}Cw.container.innerHTML=Bp.errorMsg.replace("%url%",Cw.src);return true}},i=function(Cx,Cz,Cw){if(!Cx.src){return}if(!Cz){Cz=Cx.container.lastChild}var Cy=Cw?Cx.w:Math.round(Cx.w*Cx.fitRatio),p=Cw?Cx.h:Math.round(Cx.h*Cx.fitRatio);if(Cx.placeholder&&!Cx.loaded){Cx.placeholder.style.width=Cy+"px";Cx.placeholder.style.height=p+"px"}Cz.style.width=Cy+"px";Cz.style.height=p+"px"},Ak=function(){if(BP.length){var Cw;for(var p=0;p<BP.length;p++){Cw=BP[p];if(Cw.holder.index===Cw.index){AV(Cw.index,Cw.item,Cw.baseDiv,Cw.img,false,Cw.clearPlaceholder)}}BP=[]}};B0("Controller",{publicMethods:{lazyLoadItem:function(Cw){Cw=Cm(Cw);var p=BC(Cw);if(!p||((p.loaded||p.loading)&&!Al)){return}V("gettingData",Cw,p);if(!p.src){return}Ct(p)},initController:function(){AH.extend(Bp,A9,true);BI.items=BJ=AD;BC=BI.getItemAt;y=Bp.getNumItemsFn;Bj=Bp.loop;if(y()<3){Bp.loop=false}A1("beforeChange",function(CB){var Cy=Bp.preload,Cz=CB===null?true:(CB>=0),Cw=Math.min(Cy[0],y()),CA=Math.min(Cy[1],y()),Cx;for(Cx=1;Cx<=(Cz?CA:Cw);Cx++){BI.lazyLoadItem(Q+Cx)}for(Cx=1;Cx<=(Cz?Cw:CA);Cx++){BI.lazyLoadItem(Q-Cx)}});A1("initialLayout",function(){BI.currItem.initialLayout=Bp.getThumbBoundsFn&&Bp.getThumbBoundsFn(Q)});A1("mainScrollAnimComplete",Ak);A1("initialZoomInEnd",Ak);A1("destroy",function(){var Cw;for(var p=0;p<BJ.length;p++){Cw=BJ[p];if(Cw.container){Cw.container=null}if(Cw.placeholder){Cw.placeholder=null}if(Cw.img){Cw.img=null}if(Cw.preloader){Cw.preloader=null}if(Cw.loadError){Cw.loaded=Cw.loadError=false}}BP=null})},getItemAt:function(p){if(p>=0){return BJ[p]!==undefined?BJ[p]:false}return false},allowProgressiveImg:function(){return Bp.forceProgressiveLoading||!Cb||Bp.mouseUsed||screen.width>1200},setContent:function(CA,Cx){if(Bp.loop){Cx=Cm(Cx)}var Cy=BI.getItemAt(CA.index);if(Cy){Cy.container=null}var CC=BI.getItemAt(Cx),Cw;if(!CC){CA.el.innerHTML="";return}V("gettingData",Cx,CC);CA.index=Cx;CA.item=CC;var Cz=CC.container=AH.createEl("pswp__zoom-wrap");if(!CC.src&&CC.html){if(CC.html.tagName){Cz.appendChild(CC.html)}else{Cz.innerHTML=CC.html}}Au(CC);Bv(CC,BX);if(CC.src&&!CC.loadError&&!CC.loaded){CC.loadComplete=function(CD){if(!Ac){return}if(CA&&CA.index===Cx){if(Au(CD,true)){CD.loadComplete=CD.img=null;Bv(CD,BX);Ap(CD);if(CA.index===Q){BI.updateCurrZoomItem()}return}if(!CD.imageAppended){if(Co.transform&&(I||l)){BP.push({item:CD,baseDiv:Cz,img:CD.img,index:Cx,holder:CA,clearPlaceholder:true})}else{AV(Cx,CD,Cz,CD.img,I||l,true)}}else{if(!l&&CD.placeholder){CD.placeholder.style.display="none";CD.placeholder=null}}}CD.loadComplete=null;CD.img=null;V("imageLoadComplete",Cx,CD)};if(AH.features.transform){var CB="pswp__img pswp__img--placeholder";CB+=(CC.msrc?"":" pswp__img--placeholder--blank");var p=AH.createEl(CB,CC.msrc?"img":"");if(CC.msrc){p.src=CC.msrc}i(CC,p);Cz.appendChild(p);CC.placeholder=p}if(!CC.loading){Ct(CC)}if(BI.allowProgressiveImg()){if(!Bf&&Co.transform){BP.push({item:CC,baseDiv:Cz,img:CC.img,index:Cx,holder:CA})}else{AV(Cx,CC,Cz,CC.img,true,true)}}}else{if(CC.src&&!CC.loadError){Cw=AH.createEl("pswp__img","img");Cw.style.opacity=1;Cw.src=CC.src;i(CC,Cw);AV(Cx,CC,Cz,Cw,true)}}if(!Bf&&Cx===Q){A8=Cz.style;Be(CC,(Cw||CC.img))}else{Ap(CC)}CA.el.innerHTML="";CA.el.appendChild(Cz)},cleanSlide:function(p){if(p.img){p.img.onload=p.img.onerror=null}p.loaded=p.loading=p.img=p.imageAppended=false}}});var A5,r={},Ch=function(p,Cy,Cx){var Cw=document.createEvent("CustomEvent"),Cz={origEvent:p,target:p.target,releasePoint:Cy,pointerType:Cx||"touch"};Cw.initCustomEvent("pswpTap",true,true,Cz);p.target.dispatchEvent(Cw)};B0("Tap",{publicMethods:{initTap:function(){A1("firstTouchStart",BI.onTapStart);A1("touchRelease",BI.onTapRelease);A1("destroy",function(){r={};A5=null})},onTapStart:function(p){if(p.length>1){clearTimeout(A5);A5=null}},onTapRelease:function(Cw,p){if(!p){return}if(!As&&!A7&&!BQ){var Cx=p;if(A5){clearTimeout(A5);A5=null;if(a(Cx,r)){V("doubleTap",Cx);return}}if(p.type==="mouse"){Ch(Cw,p,"mouse");return}var Cy=Cw.target.tagName.toUpperCase();if(Cy==="BUTTON"||AH.hasClass(Cw.target,"pswp__single-tap")){Ch(Cw,p);return}Cn(r,Cx);A5=setTimeout(function(){Ch(Cw,p);A5=null},300)}}}});var BS;B0("DesktopZoom",{publicMethods:{initDesktopZoom:function(){if(Bl){return}if(Cb){A1("mouseUsed",function(){BI.setupDesktopZoom()})}else{BI.setupDesktopZoom(true)}},setupDesktopZoom:function(Cy){BS={};var Cx="wheel mousewheel DOMMouseScroll";A1("bindEvents",function(){AH.bind(Bu,Cx,BI.handleMouseWheel)});A1("unbindEvents",function(){if(BS){AH.unbind(Bu,Cx,BI.handleMouseWheel)}});BI.mouseZoomedIn=false;var p,Cw=function(){if(BI.mouseZoomedIn){AH.removeClass(Bu,"pswp--zoomed-in");BI.mouseZoomedIn=false}if(A0<1){AH.addClass(Bu,"pswp--zoom-allowed")}else{AH.removeClass(Bu,"pswp--zoom-allowed")}Cz()},Cz=function(){if(p){AH.removeClass(Bu,"pswp--dragging");p=false}};A1("resize",Cw);A1("afterChange",Cw);A1("pointerDown",function(){if(BI.mouseZoomedIn){p=true;AH.addClass(Bu,"pswp--dragging")}});A1("pointerUp",Cz);if(!Cy){Cw()}},handleMouseWheel:function(Cx){if(A0<=BI.currItem.fitRatio){if(Bp.modal){if(!Bp.closeOnScroll||BQ||T){Cx.preventDefault()}else{if(BL&&Math.abs(Cx.deltaY)>2){Az=true;BI.close()}}}return true}Cx.stopPropagation();BS.x=0;if("deltaX" in Cx){if(Cx.deltaMode===1){BS.x=Cx.deltaX*18;BS.y=Cx.deltaY*18}else{BS.x=Cx.deltaX;BS.y=Cx.deltaY}}else{if("wheelDelta" in Cx){if(Cx.wheelDeltaX){BS.x=-0.16*Cx.wheelDeltaX}if(Cx.wheelDeltaY){BS.y=-0.16*Cx.wheelDeltaY}else{BS.y=-0.16*Cx.wheelDelta}}else{if("detail" in Cx){BS.y=Cx.detail}else{return}}}Cr(A0,true);var p=AL.x-BS.x,Cw=AL.y-BS.y;if(Bp.modal||(p<=U.min.x&&p>=U.max.x&&Cw<=U.min.y&&Cw>=U.max.y)){Cx.preventDefault()}BI.panTo(p,Cw)},toggleDesktopZoom:function(Cx){Cx=Cx||{x:BX.x/2+w.x,y:BX.y/2+w.y};var Cw=Bp.getDoubleTapZoom(true,BI.currItem);var p=A0===Cw;BI.mouseZoomedIn=!p;BI.zoomTo(p?BI.currItem.initialZoomLevel:Cw,Cx,333);AH[(!p?"add":"remove")+"Class"](Bu,"pswp--zoomed-in")}}});var Cp={history:true,galleryUID:1};var B8,u,By,Ce,AS,B9,BU,B3,B7,BD,Cv,AM,Aa=function(){return Cv.hash.substring(1)},Bi=function(){if(B8){clearTimeout(B8)}if(By){clearTimeout(By)}},An=function(){var Cz=Aa(),CA={};if(Cz.length<5){return CA}var Cw,Cx=Cz.split("&");for(Cw=0;Cw<Cx.length;Cw++){if(!Cx[Cw]){continue}var p=Cx[Cw].split("=");if(p.length<2){continue}CA[p[0]]=p[1]}if(Bp.galleryPIDs){var Cy=CA.pid;CA.pid=0;for(Cw=0;Cw<BJ.length;Cw++){if(BJ[Cw].pid===Cy){CA.pid=Cw;break}}}else{CA.pid=parseInt(CA.pid,10)-1}if(CA.pid<0){CA.pid=0}return CA},Bn=function(){if(By){clearTimeout(By)}if(BQ||T){By=setTimeout(Bn,500);return}if(Ce){clearTimeout(u)}else{Ce=true}var p=(Q+1);var Cy=BC(Q);if(Cy.hasOwnProperty("pid")){p=Cy.pid}var Cx=BU+"&gid="+Bp.galleryUID+"&pid="+p;if(!B3){if(Cv.hash.indexOf(Cx)===-1){BD=true}}var Cw=Cv.href.split("#")[0]+"#"+Cx;if(AM){if("#"+Cx!==window.location.hash){history[B3?"replaceState":"pushState"]("",document.title,Cw)}}else{if(B3){Cv.replace(Cw)}else{Cv.hash=Cx}}B3=true;u=setTimeout(function(){Ce=false},60)};B0("History",{publicMethods:{initHistory:function(){AH.extend(Bp,Cp,true);if(!Bp.history){return}Cv=window.location;BD=false;B7=false;B3=false;BU=Aa();AM=("pushState" in history);if(BU.indexOf("gid=")>-1){BU=BU.split("&gid=")[0];BU=BU.split("?gid=")[0]}A1("afterChange",BI.updateURL);A1("unbindEvents",function(){AH.unbind(window,"hashchange",BI.onHashChange)});var Cw=function(){B9=true;if(!B7){if(BD){history.back()}else{if(BU){Cv.hash=BU}else{if(AM){history.pushState("",document.title,Cv.pathname+Cv.search)}else{Cv.hash=""}}}}Bi()};A1("unbindEvents",function(){if(Az){Cw()}});A1("destroy",function(){if(!B9){Cw()}});A1("firstUpdate",function(){Q=An().pid});var p=BU.indexOf("pid=");if(p>-1){BU=BU.substring(0,p);if(BU.slice(-1)==="&"){BU=BU.slice(0,-1)}}setTimeout(function(){if(Ac){AH.bind(window,"hashchange",BI.onHashChange)}},40)},onHashChange:function(){if(Aa()===BU){B7=true;BI.close();return}if(!Ce){AS=true;BI.goTo(An().pid);AS=false}},updateURL:function(){Bi();if(AS){return}if(!B3){Bn()}else{B8=setTimeout(Bn,800)}}}});AH.extend(BI,BG)};return A});